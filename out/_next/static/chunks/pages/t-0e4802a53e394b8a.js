(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{2399:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/t",function(){return t(9722)}])},1226:function(e,n,t){"use strict";t.d(n,{zx:function(){return u},ZP:function(){return l},EE:function(){return d}});var r=t(5893),i=t(4184),o=t.n(i);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function c(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var u=function(e){var n=e.className,t=c(e,["className"]);return(0,r.jsx)("button",a({className:o()(n,"border px-4 py-2 rounded",{"hover:bg-gray-100":!t.disabled,"cursor-default text-gray-300":t.disabled})},t))},l=function(e){var n=e.className,t=c(e,["className"]);return(0,r.jsx)("button",a({className:o()(n,{"text-blue-700":!t.disabled,"cursor-default text-gray-300":t.disabled})},t))},d=function(e){var n=e.className,t=c(e,["className"]);return(0,r.jsx)("button",a({className:o()(n,"text-lg","border px-4 py-2 rounded","hover:bg-gray-100")},t))}},2847:function(e,n,t){"use strict";t.d(n,{RZ:function(){return c},co:function(){return u},l:function(){return l}});var r=t(5503),i=t(6257),o=t(5762);function s(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=(0,r.ZF)({apiKey:"AIzaSyA5HiYzsq8BkJGCJNZtLHa4YOQ76YJ_1vg",authDomain:"planning-p2p.firebaseapp.com",databaseURL:"https://planning-p2p-default-rtdb.firebaseio.com",projectId:"planning-p2p",storageBucket:"planning-p2p.appspot.com",messagingSenderId:"126796717544",appId:"1:126796717544:web:319755cc30177097f3985d",measurementId:"${config.measurementId}"}),c=(0,i.ad)(a),u=(0,o.IH)(a),l=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];o.Kz.apply(void 0,[u].concat(s(n)))}},9722:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var r=t(5893),i=t(387),o=t(7294),s=t(1226),a=t(5934),c=t(6257),u=t(2847),l=t(6810),d=function(e){return"object"===typeof e&&(null!==e&&("string"===typeof e.id&&("string"===typeof e.description&&((void 0===e.level||"string"===typeof e.level)&&(void 0===e.voting||"object"===typeof e.voting)))))},f=t(5666),v=t.n(f);function p(e,n,t,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,i)}var g,x,b,m,h=function(e,n,t,r){var i,o=!1,s=[];return(i=v().mark((function i(){var a;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!o){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,(0,c.QT)(e);case 4:if(i.sent.exists()){i.next=10;break}if(!o){i.next=8;break}return i.abrupt("return");case 8:return i.next=10,(0,c.pl)(e,{});case 10:a=(0,c.cf)(e,n,t,r),s.push(a);case 12:case"end":return i.stop()}}),i)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var o=i.apply(e,n);function s(e){p(o,t,r,s,a,"next",e)}function a(e){p(o,t,r,s,a,"throw",e)}s(void 0)}))})().catch((function(e){t?t(e):console.error(e)})),function(){o=!0,s.forEach((function(e){return e()}))}},y=t(5762),j=function(){if(globalThis.localStorage){var e="__uid",n=localStorage.getItem(e);if(n)return n;var t=(0,a.Z)();return localStorage.setItem(e,t),t}return(0,a.Z)()}();function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(0,y.Iv)(u.co,j,{global:!0});function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){I(e,n,t[n])}))}return e}var C=function(e){var n=(0,i.useRouter)();return[n.query[e],function(t){n.push({pathname:n.pathname,query:k({},n.query,I({},e,t))})}]};function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var V=function(){var e=S(C("room-id"),2),n=e[0];return["string"===typeof n?n:null,e[1]]},P=t(9539),E=t(9435),A=t.n(E),R=function(e){var n=e.src,t=(0,o.useMemo)((function(){return(0,r.jsx)(A(),{children:(0,P.inspect)(n,{colors:!0,depth:null})})}),[n]);return(0,r.jsx)("pre",{style:{padding:10,backgroundColor:"#f5f5f5",border:"1px solid #ccc",borderRadius:5},children:(0,r.jsx)("code",{children:t})})},z=t(4184),F=t.n(z);function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var T=function(e){var n=e.inputRef,t=e.className,i=(e.children,_(e,["inputRef","className","children"]));return(0,r.jsx)("input",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){D(e,n,t[n])}))}return e}({ref:n,className:F()("border px-4 py-2 rounded ",t)},i))};function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){L(e,n,t[n])}))}return e}function K(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var M=function(e){var n=e.onValueChange,t=e.buttonLogged,i=e.onClick,a=K(e,["onValueChange","buttonLogged","onClick"]),c=(0,o.useRef)(null),u=(0,o.useState)(!1),l=u[0],d=u[1],f=function(e){d(!0),null===i||void 0===i||i(e)};return(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)("div",{className:"top-0 left-0 fixed w-screen h-screen bg-gray-800 bg-opacity-20 justify-center items-center flex",children:(0,r.jsxs)("div",{className:"p-4 bg-white rounded shadow-md",children:[(0,r.jsx)("div",{className:"text-md",children:"Ingresa tu nick:"}),(0,r.jsx)(T,{inputRef:c}),(0,r.jsx)(s.zx,{onClick:function(){d(!1),c.current?null===n||void 0===n||n(c.current.value):console.warn("inputValueRef is null")},children:"Continuar"})]})}),t&&t({handlerOpen:f}),!t&&(0,r.jsx)(s.zx,Z({},a,{onClick:f}))]})},U=function(e){var n=e.issue,t=e.onUpdateDescriptionIssue,i=e.onDeleteIssue,a=e.onSelectIssue,c=(0,o.useState)(n.description),u=c[0],l=c[1],d=(0,o.useState)(!1),f=d[0],v=d[1],p=u!==n.description;return(0,r.jsx)("div",{className:"flex border p-2 rounded flex-col border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-row space-x-4",children:[n.level&&(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"px-4 text-4xl text-blue-400",children:n.level})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300 block",children:n.id}),!f&&n.description,f&&(0,r.jsx)("textarea",{className:"w-full border border-gray-300",defaultValue:u,onChange:function(e){return l(e.target.value)},autoFocus:!0})]}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(s.zx,{onClick:function(){return null===a||void 0===a?void 0:a(n)},children:"Seleccionar"}),!f&&(0,r.jsx)(s.zx,{onClick:function(){return v(!0)},children:"Editar"}),f&&(0,r.jsx)(s.zx,{onClick:function(){return v(!1),void(p&&(null===t||void 0===t||t(n,u)))},children:"Guardar"}),(0,r.jsx)(s.zx,{onClick:function(){return null===i||void 0===i?void 0:i(n)},children:"Eliminar"})]})]})]})})};function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var H,J=new Intl.NumberFormat("es-CL",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}),Q=new Intl.NumberFormat("es-CL",{minimumFractionDigits:0,maximumFractionDigits:0}),Y=["bg-blue-200","bg-blue-400","bg-green-200","bg-green-400","bg-pink-200","bg-pink-400","bg-purple-200","bg-purple-400","bg-red-200","bg-red-400","bg-yellow-200","bg-yellow-400"].sort((function(){return Math.random()-.5})),B=function(e){var n=e.charCodeAt(0)%Y.length;return Y[n]},G=function(e){var n,t,i=e.roomId,f=q(C("debug"),1)[0],v=q(V(),2)[1],p=function(e){var n;(0,o.useEffect)((function(){(0,u.l)("room_connection",{roomId:e})}),[e]);var t,r,i=(0,o.useMemo)((function(){return["XS","S","M","L","XL","XXL"]}),[]),s=(0,o.useState)(0),f=(s[0],s[1],(0,o.useState)(!0)),v=f[0],p=f[1],y=(0,o.useMemo)((function(){return(0,c.JU)(u.RZ,"rooms",e)}),[e]),I=(0,o.useState)(null),k=I[0],C=I[1],S=(0,o.useState)(null),V=(S[0],S[1]),P=Object.entries(null!==(t=null===k||void 0===k?void 0:k.participants)&&void 0!==t?t:{}).sort((function(e,n){var t=N(e,1)[0],r=N(n,1)[0];return t<r?-1:t>r?1:0})).map((function(e){var n=N(e,2),t=n[0],r=n[1];return w({uid:t,self:t===j,activated:!0,observer:!!r.observer},r)})).filter((function(e){return e.activated&&e.name})),E=P.find((function(e){return e.self})),A=!!E&&!!E.name,R="string"===typeof(null===k||void 0===k?void 0:k.issue)?k.issue:null,z=R?null===k||void 0===k?void 0:k.issuesValues[R]:null,F=d(z)?z:null,D=((null===k||void 0===k?void 0:k.issues)&&Array.isArray(k.issues)?k.issues:[]).map((function(e){return null===k||void 0===k?void 0:k.issuesValues[e]})).filter((function(e){return d(e)})),_="object"===typeof(r=null===k||void 0===k?void 0:k.statusVoting)&&null!==r&&"string"===typeof r.status&&["none","inVoting","done"].includes(r.status)?k.statusVoting:{status:"none"},T=null===F||void 0===F?void 0:F.voting,L=null===F||void 0===F||null===(n=F.voting)||void 0===n?void 0:n[j],Z=(0,o.useMemo)((function(){var e=0,n=0,t=Object.entries(null!==T&&void 0!==T?T:{}).filter((function(e){var n=N(e,2),t=(n[0],n[1]);return i.includes(t.value)})).reduce((function(t,r){var i=N(r,2),o=(i[0],i[1]),s=(t[o.value]||0)+1;return e=Math.max(e,s),n+=1,w({},t,O({},o.value,s))}),Object.fromEntries(i.map((function(e){return[e,0]}))));return{max:e,total:n,result:t}}),[T,i]),K=function(n){(0,c.r7)(y,n).catch((function(n){console.error(n),(0,l.x)("Error updating room ".concat(e))}))};return(0,o.useEffect)((function(){p(!0);var e=h(y,(function(e){p(!1),C(e.data())}),(function(e){V(e)}));return function(){e()}}),[y]),{markLevelOnIssue:function(e){K(O({},"issuesValues.".concat(R,".level"),null===e?(0,c.AK)():e))},resultVotingCurrentIssue:Z,levels:i,statusVoting:_,votingCurrentIssue:T,selfVotingCurrentIssue:L,localUid:j,removeVoting:function(){K(O({},"issuesValues.".concat(R,".voting.").concat(j),(0,c.AK)()))},voting:function(e){K(O({},"issuesValues.".concat(R,".voting.").concat(j,".value"),e))},selectIssue:function(e){K((O(b={},"statusVoting.status","none"),O(b,"issue",e.id),b))},changeTypeRoomVoting:function(e){K(O({},"statusVoting.status",e))},cleanSelectIssue:function(){K((O(m={},"statusVoting.status","none"),O(m,"issue",(0,c.AK)()),m))},createNewIssue:function(){var e=(0,a.Z)();return K((O(x={},"issues",(0,c.vr)(e)),O(x,"issuesValues.".concat(e),{id:e,description:""}),x))},removeIssue:function(e){K(O({},"issuesValues.".concat(e),(0,c.AK)()))},updateDescriptionIssue:function(e,n){K(O({},"issuesValues.".concat(e.id,".description"),n))},issueActivated:R,issue:F,issues:D,loggedIn:A,identification:E,identifications:P,loading:v,logIn:function(e){K((O(g={},"participants.".concat(j,".name"),e),O(g,"participants.".concat(j,".loggedAt"),c.EK.now()),g))},logOut:function(){var e,n=Object.keys(null!==(e=null===k||void 0===k?void 0:k.issuesValues)&&void 0!==e?e:{}).reduce((function(e,n){return O({},"issuesValues.".concat(n,".voting.").concat(j),(0,c.AK)())}),{});K(w({},n,O({},"participants.".concat(j),(0,c.AK)())))},toggleParticipating:function(){K(O({},"participants.".concat(j,".observer"),!(null===E||void 0===E?void 0:E.observer)))},room:k,update:K}}(i),y="on"===f;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"container p-4 w-full space-y-4",children:[p.loggedIn&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{children:(0,r.jsxs)("h2",{className:"text-6xl",children:["Hola ",(0,r.jsx)("strong",{children:null===(n=p.identification)||void 0===n?void 0:n.name})]})})}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(s.zx,{onClick:function(){return v((0,a.Z)())},children:"Ir a nueva sala"}),(0,r.jsx)(M,{onValueChange:function(e){return p.logIn(e)},value:null===(t=p.identification)||void 0===t?void 0:t.name,children:p.identification?"Cambiar nombre":"Ingresar"}),p.loggedIn&&(0,r.jsx)(s.zx,{onClick:function(){return p.logOut()},children:"Salir"})]}),(0,r.jsxs)("section",{children:[!p.issue&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"bg-gray-50 py-8 rounded border border-gray-400 text-center text-gray-400",children:"A\xfan no hay tarea seleccionada."})}),p.issue&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"bg-white py-8 rounded border border-blue-100 text-center flex flex-col justify-center items-center space-y-2",children:[(0,r.jsxs)("div",{className:"border py-2 px-4 rounded flex flex-col items-start text-xl shadow bg-white",children:[(0,r.jsx)("span",{className:"block text-gray-300 text-sm",children:p.issue.id}),(0,r.jsx)("div",{children:p.issue.description})]}),(0,r.jsxs)("div",{children:["none"===p.statusVoting.status&&(0,r.jsx)(s.zx,{onClick:function(){return p.changeTypeRoomVoting("inVoting")},children:"Iniciar votaci\xf3n"}),"inVoting"===p.statusVoting.status&&(0,r.jsx)(s.zx,{className:"bg-blue-300 text-white border-blue-400 hover:bg-blue-400",onClick:function(){return p.changeTypeRoomVoting("done")},children:"Terminar votaci\xf3n"}),"done"===p.statusVoting.status&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(s.ZP,{onClick:function(){return p.changeTypeRoomVoting("inVoting")},children:"Reiniciar votaci\xf3n"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Resultados:"}),(0,r.jsxs)("div",{className:"grid grid-cols-5 grid-flow-row gap-4",children:[(0,r.jsx)("div",{className:"text-gray-500",children:"Nivel"}),(0,r.jsx)("div",{className:"text-gray-500",children:"Conteo"}),(0,r.jsx)("div",{className:"text-gray-500",children:"Porcentaje"}),(0,r.jsx)("div",{className:"col-span-2"}),Object.entries(p.resultVotingCurrentIssue.result).map((function(e){var n=q(e,2),t=n[0],i=n[1];return 0===i?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:t})}),(0,r.jsx)("div",{children:Q.format(i)}),(0,r.jsx)("div",{className:"font-bold",children:J.format(i/p.resultVotingCurrentIssue.total)}),(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsx)("button",{className:"border px-2",onClick:function(){return p.markLevelOnIssue(t)},children:"Marcar tarea con esta nivel"})})]},t)}))]})]})]})})]}),(0,r.jsx)("button",{onClick:p.cleanSelectIssue,className:"text-blue-700 text-opacity-70",children:"Quitar selecci\xf3n"})]})})]}),"inVoting"===p.statusVoting.status&&(0,r.jsxs)("section",{className:"flex flex-col items-center",children:[(0,r.jsx)("p",{children:"Ahora puedes votar, selecciona una opci\xf3n:"}),(0,r.jsxs)("div",{children:[p.levels.map((function(e,n){var t;return(0,r.jsx)(s.zx,{className:F()({"border-blue-600 text-blue-600 shadow":(null===(t=p.selfVotingCurrentIssue)||void 0===t?void 0:t.value)===e}),onClick:function(){return p.voting(e)},children:e},"".concat(n,"-").concat(e))})),(0,r.jsx)(s.zx,{onClick:function(){return p.removeVoting()},children:"Eliminar voto"})]})]}),(0,r.jsx)("section",{className:"flex space-x-4 justify-center flex-row",children:p.identifications.map((function(e){var n,t;return(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)("div",{onClick:function(){return e.self&&p.toggleParticipating()},style:{width:"50px",height:"80px"},className:F()("transition","text-center text-5xl flex justify-center items-center border rounded-lg",(H={"border-gray-200 text-gray-200":e.observer},X(H,B(null===(n=e.name)||void 0===n?void 0:n[0]),!e.observer),X(H,"border-gray-400 hover:shadow-md",!e.observer),H)),children:null===(t=e.name)||void 0===t?void 0:t[0].toUpperCase()}),(0,r.jsx)("h3",{className:F()("text-center transition-all",{"text-gray-400":e.observer}),children:e.name}),e.observer&&(0,r.jsx)("span",{className:"inline-block text-gray-400",children:"(Es Observador)"})]},e.uid)}))}),(0,r.jsxs)("section",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(s.zx,{onClick:p.createNewIssue,children:"Crear nueva tarea"})}),!p.issues.length&&(0,r.jsx)("div",{className:"text-gray-500",children:"Crea tu primera tarea."}),!!p.issues.length&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"space-y-4",children:p.issues.map((function(e,n){return(0,r.jsx)(U,{issue:e,onDeleteIssue:function(e){return p.removeIssue(e.id)},onUpdateDescriptionIssue:function(e,n){return p.updateDescriptionIssue(e,n)},onSelectIssue:function(e){return p.selectIssue(e)}},e.id)}))})})]}),y&&(0,r.jsx)("div",{children:(0,r.jsx)(R,{src:p})})]})})})};function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var W=function(){var e=(0,i.useRouter)(),n=$(V(),2),t=n[0],o=n[1];return e.isReady?t?(0,r.jsx)(G,{roomId:t}):(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{children:(0,r.jsx)(s.EE,{onClick:function(){return o((0,a.Z)())},children:"Crea nueva sala"})})}):(0,r.jsx)(r.Fragment,{children:"Loading..."})}}},function(e){e.O(0,[16,97,200,774,888,179],(function(){return n=2399,e(e.s=n);var n}));var n=e.O();_N_E=n}]);