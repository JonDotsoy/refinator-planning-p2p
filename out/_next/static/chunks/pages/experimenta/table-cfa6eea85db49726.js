(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{8783:function(n,e,t){"use strict";var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function a(n){try{c(r.next(n))}catch(e){i(e)}}function u(n){try{c(r.throw(n))}catch(e){i(e)}}function c(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,u)}c((r=r.apply(n,e||[])).next())}))},o=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.generatorByEvents=void 0;const i=o(t(7187)),a=Symbol("end"),u=n=>n===a;e.generatorByEvents=function(n){const e=new i.default,t={};let o=!1;const c=[],s=n=>{e.emit("data",n)||c.push(n)};return n({push:n=>s(n),done:()=>s(a),error:n=>{t.error=n,s(a)}}),{next:()=>r(this,void 0,void 0,(function*(){if(o)return{value:void 0,done:!0};if(Object.hasOwnProperty.call(t,"error"))throw o=!0,t.error;if(0===c.length)return new Promise(((n,r)=>{e.once("data",(e=>{if(Object.hasOwnProperty.call(t,"error"))return o=!0,void r(t.error);u(e)?n({value:void 0,done:!0}):n({value:e,done:!1})}))}));const n=c.shift();return u(n)?{value:void 0,done:!0}:{value:n,done:!1}})),return:n=>r(this,void 0,void 0,(function*(){return s(a),{value:n,done:!0}})),throw:n=>r(this,void 0,void 0,(function*(){return s(a),{value:void 0,done:!0}})),[Symbol.asyncIterator](){return this}}}},9780:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimenta/table",function(){return t(5444)}])},1226:function(n,e,t){"use strict";t.d(e,{zx:function(){return s},ZP:function(){return f},EE:function(){return l}});var r=t(5893),o=t(4184),i=t.n(o);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){a(n,e,t[e])}))}return n}function c(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var s=function(n){var e=n.className,t=c(n,["className"]);return(0,r.jsx)("button",u({className:i()(e,"border px-4 py-2 rounded",{"hover:bg-gray-100":!t.disabled,"cursor-default text-gray-300":t.disabled})},t))},f=function(n){var e=n.className,t=c(n,["className"]);return(0,r.jsx)("button",u({className:i()(e,{"text-blue-700":!t.disabled,"cursor-default text-gray-300":t.disabled})},t))},l=function(n){var e=n.className,t=c(n,["className"]);return(0,r.jsx)("button",u({className:i()(e,"text-lg","border px-4 py-2 rounded","hover:bg-gray-100")},t))}},2847:function(n,e,t){"use strict";t.d(e,{RZ:function(){return c},co:function(){return s},l:function(){return f}});var r=t(5503),o=t(6257),i=t(5762);function a(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=(0,r.ZF)({apiKey:"AIzaSyA5HiYzsq8BkJGCJNZtLHa4YOQ76YJ_1vg",authDomain:"planning-p2p.firebaseapp.com",databaseURL:"https://planning-p2p-default-rtdb.firebaseio.com",projectId:"planning-p2p",storageBucket:"planning-p2p.appspot.com",messagingSenderId:"126796717544",appId:"1:126796717544:web:319755cc30177097f3985d",measurementId:"${config.measurementId}"}),c=(0,o.ad)(u),s=(0,i.IH)(u),f=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];i.Kz.apply(void 0,[s].concat(a(e)))}},5444:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return C}});var r=t(5893),o=t(387),i=t(7294),a=t(5934),u=t(6810),c=t(1226),s=t(5666),f=t.n(s),l=t(6257),h=t(7187),v=t.n(h);function p(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d,y=function n(){var e=this,t=this,r=this,o=this,i=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.events=new(v()),this.on=function(n,t){return e.events.on(n,t)},this.once=function(n,e){return t.events.on(n,e)},this.off=function(n,e){return r.events.off(n,e)},this.emit=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i;return(i=o.events).emit.apply(i,[n].concat(p(t)))},this.emitWithChange=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o,a=(o=i.events).emit.apply(o,[n].concat(p(t)));return i.events.emit("changes"),a}},b=t(2847),m=t(8783);function w(n){var e,t;function r(e,t){try{var i=n[e](t),a=i.value,u=a instanceof O;Promise.resolve(u?a.wrapped:a).then((function(n){u?r("next",n):o(i.done?"return":"normal",n)}),(function(n){r("throw",n)}))}catch(c){o("throw",c)}}function o(n,o){switch(n){case"return":e.resolve({value:o,done:!0});break;case"throw":e.reject(o);break;default:e.resolve({value:o,done:!1})}(e=e.next)?r(e.key,e.arg):t=null}this._invoke=function(n,o){return new Promise((function(i,a){var u={key:n,arg:o,resolve:i,reject:a,next:null};t?t=t.next=u:(e=t=u,r(n,o))}))},"function"!==typeof n.return&&(this.return=void 0)}function g(n){var e;if("function"===typeof Symbol){if(Symbol.asyncIterator&&null!=(e=n[Symbol.asyncIterator]))return e.call(n);if(Symbol.iterator&&null!=(e=n[Symbol.iterator]))return e.call(n)}throw new TypeError("Object is not async iterable")}function x(n,e,t,r,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function k(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){x(i,r,o,a,u,"next",n)}function u(n){x(i,r,o,a,u,"throw",n)}a(void 0)}))}}function j(n){return new O(n)}function O(n){this.wrapped=n}function _(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function P(n){return function(){return new w(n.apply(this,arguments))}}function S(n){return E.apply(this,arguments)}function E(){return(E=P(f().mark((function n(e){var t,r,o,i,a,u,c,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j((0,l.QT)(e));case 2:if(n.sent.exists()){n.next=6;break}return n.next=6,j((0,l.pl)(e,{}));case 6:t=function(n){(0,l.cf)(e,(function(e){return n.push(e)}),(function(e){return n.error(e)}),(function(){return n.done()}))},r=!1,o=!1,n.prev=8,a=g((0,m.generatorByEvents)(t));case 10:return n.next=12,j(a.next());case 12:if(!(r=!(u=n.sent).done)){n.next=20;break}return c=u.value,s=c,n.next=17,s;case 17:r=!1,n.next=10;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(8),o=!0,i=n.t0;case 26:if(n.prev=26,n.prev=27,!r||null==a.return){n.next=31;break}return n.next=31,i.return();case 31:if(n.prev=31,!o){n.next=34;break}throw i;case 34:return n.finish(31);case 35:return n.finish(26);case 36:case"end":return n.stop()}}),n,null,[[8,22,26,36],[27,,31,35]])})))).apply(this,arguments)}"function"===typeof Symbol&&Symbol.asyncIterator&&(w.prototype[Symbol.asyncIterator]=function(){return this}),w.prototype.next=function(n){return this._invoke("next",n)},w.prototype.throw=function(n){return this._invoke("throw",n)},w.prototype.return=function(n){return this._invoke("return",n)};var T=d=function(n){}((d=function(){function n(e,t){var r=this;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.roomId=e,this.peerId=t,this.events=new y,this.peerConnections={},this.on=this.events.on,this.off=this.events.off,this.init().catch((function(n){r.events.emit("error",n)||console.error(n)}))}var e,t,r;return e=n,(t=[{key:"init",value:function(){return k(f().mark((function n(){var e,t,r,o,i,a,u,c;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=S((0,l.JU)(b.RZ,"rooms",this.roomId)),this.events.once("close",(function(){return e.return()})),t=!1,r=!1,n.prev=3,i=g(e);case 5:return n.next=7,i.next();case 7:if(!(t=!(a=n.sent).done)){n.next=12;break}u=a.value,c=u,console.log("entry",c);case 9:t=!1,n.next=5;break;case 12:n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),r=!0,o=n.t0;case 18:if(n.prev=18,n.prev=19,!t||null==i.return){n.next=23;break}return n.next=23,o.return();case 23:if(n.prev=23,!r){n.next=26;break}throw o;case 26:return n.finish(23);case 27:return n.finish(18);case 28:case"end":return n.stop()}}),n,this,[[3,14,18,28],[19,,23,27]])})).bind(this))()}},{key:"close",value:function(){return k(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.events.emit("close");case 1:case"end":return n.stop()}}),n,this)})).bind(this))()}}])&&_(e.prototype,t),r&&_(e,r),n}())||d)||d;var I=t(4155);I.nextTick((function(){var n;globalThis.peerConnectionListUtil=null!==(n=globalThis.peerConnectionListUtil)&&void 0!==n?n:[];!function(n){var e=new T("demo-room",n);globalThis.peerConnectionListUtil.push(e)}("demo-room-1")}));var N=function(n,e){var t=void 0===e?function(){return"".concat((0,a.Z)())}:e,r=(0,o.useRouter)(),u=r.query[n],c="string"===typeof u?u:void 0;return(0,i.useEffect)((function(){if(r.isReady&&!c&&globalThis.location){var e=new URL(globalThis.location.href);e.searchParams.set(n,t()),I.nextTick((function(){globalThis.location.href=e.href}))}}),[r.isReady]),c},A=function(n){n=null!==n?n:function(n){throw n}(new TypeError("Cannot destructure undefined"));return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.zx,{onClick:function(){var n=new URL(globalThis.location.href);n.searchParams.delete("i"),navigator.clipboard.writeText(n.href),(0,u.x)("Copied to clipboard the room link.")},children:"Copy Room"})})},C=function(){var n=N("i");return N("room-id",(function(){return"".concat(Date.now(),"-").concat((0,a.Z)())}))&&n?(0,r.jsx)("div",{className:"md:px-20 md:py-5",children:(0,r.jsx)(A,{})}):(0,r.jsx)(r.Fragment,{children:"loading..."})}}},function(n){n.O(0,[16,97,774,888,179],(function(){return e=9780,n(n.s=e);var e}));var e=n.O();_N_E=e}]);